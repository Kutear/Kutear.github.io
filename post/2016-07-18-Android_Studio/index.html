<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Android Studio使用指南(Windows/Linux) | KuTear</title>
<meta name="description" content="温故而知新">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://www.kutear.com/favicon.ico?v=1584687187586">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://www.kutear.com/styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://www.kutear.com">
        <img src="https://www.kutear.com/images/avatar.png?v=1584687187586" class="site-logo">
        <h1 class="site-title">KuTear</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/kutear" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      温故而知新
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://www.kutear.com/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Android Studio使用指南(Windows/Linux)</h2>
            <div class="post-date">2016-07-18</div>
            
            <div class="post-content">
              <center>
![Android Studio](http://kutear.qiniudn.com/2016/07/17/48603b16ccd1143827d4e38a70b4323e.png)
</center>
<p>注: keymap调为eclipse模式(File &gt; Settings &gt; Keymap &gt; Eclipse)</p>
<h2 id="基本的快捷键">基本的快捷键</h2>
<h3 id="搜索相关">搜索相关</h3>
<ul>
<li>函数/变量的引用(Ctrl+G)</li>
<li>字段搜索(Ctrl+H)</li>
<li>文件名搜索(类,XML)  (Ctrl+Shift+R)</li>
<li>类名搜索(Ctrl+Shift+T)</li>
<li>通用搜索(文件,字段,类)  (Double Shift)</li>
<li>文件内字段搜索(Shift+f)</li>
<li>文件内方法/变量搜索(Ctrl+O)</li>
</ul>
<h3 id="调试相关">调试相关</h3>
<ul>
<li>Debug模式运行(Shift+Alt+D)</li>
<li>对已运行程序启用调试(默认无,需配置)</li>
<li>执行进入函数内部(F5)</li>
<li>执行不进入函数内部(F6)</li>
<li>函数内部直接跳到调用处(F7)</li>
<li>跳到下一个断点(F8)</li>
<li>跳到光标处(Ctrl+R)
<ul>
<li>计算值(Ctrl+U)<br>
<img src="http://kutear.qiniudn.com/2016/07/17/b20804ca0283ad793b3855c4305c5079.png" alt="Android Debug" loading="lazy"></li>
</ul>
</li>
</ul>
<h3 id="git相关">Git相关</h3>
<ul>
<li>添加文件追踪(Ctrl+Alt+A) <strong>注:同QQ截图冲突</strong></li>
<li>Push到服务器(Ctrl+Shift+K)</li>
</ul>
<h3 id="其他常用快捷键">其他常用快捷键</h3>
<ul>
<li>快速功能查找(Ctrl+Shitf+A)</li>
<li>快速实现接口(Alt+Shift+P)</li>
<li>复写方法/构造器/Setter And Getter等(Alt+Insert)</li>
<li>运行程序(Shift+Alt+X)</li>
<li>Android Studio全屏模式(需配置)</li>
<li>拷贝光标所在行到下一行(Ctrl+Win+Alt+↓)</li>
<li>双斜杠注释(Ctrl+/)</li>
<li>(/* */)注释(Ctrl+Shilt+/)</li>
<li>快速导入包,实现接口(Alt+Enter)</li>
<li>文件/字段/方法重命名(Ctrl+Shift+R)</li>
<li>类继承关系(F4)</li>
<li>最近打开/最近编辑(Ctrl+E/Ctrl+Shift+E)</li>
<li>关闭当前文件/全部文件(Ctrl+F4/Ctrl+Shift+F4(Ctrl+Shift+W))</li>
<li>在引用处查看方法/类的实现(Ctrl+Shift+i)</li>
<li>去除无用导入(Ctrl+Shift+O)</li>
<li>代码格式化(Ctrl+Alt+L/Ctrl+Shitf+F)  <strong>注:Ctrl+Alt+L与Ubuntu锁屏键冲突,Ctrl+Shitf+F与一般输入法(搜狗)的简繁切换冲突</strong></li>
<li>方法/字段的说明查看(Shift+Ctrl+Space/F2)</li>
<li>返回至上次浏览的位置(Alt+Left/Right)</li>
<li>大小写切换(Ctrl+Shift+U)</li>
<li>硬编码提取到资源文件(Alt+Enter)</li>
<li>类切换(Ctrl+Tab)</li>
<li>{}的切换(Ctrl+[/])</li>
</ul>
<h2 id="快捷键与live-template的定制">快捷键与Live template的定制</h2>
<h3 id="快捷键设置">快捷键设置</h3>
<ul>
<li>
<p>这里以前面的<strong>Android Studio全屏模式</strong>为例来说明</p>
<p>根据名字搜索(full screen)<br>
<img src="http://kutear.qiniudn.com/2016/07/17/5eaf9d2047502395fde4f0781db72627.png" alt="" loading="lazy"><br>
添加快捷键,注意不要冲突<br>
<img src="http://kutear.qiniudn.com/2016/07/17/677a7ee352d673dd625e67fd28a014dc.png" alt="" loading="lazy"><br>
保存设置<br>
<img src="http://kutear.qiniudn.com/2016/07/21/7989f22af1fa11cea2594bfaa756103b.png" alt="" loading="lazy"></p>
</li>
</ul>
<h3 id="live-template">Live template</h3>
<ul>
<li>自带模板</li>
</ul>
<p>在Eclipse编写主函数</p>
<pre><code class="language-java">public static void main(String[] agrs){
  ...
}
</code></pre>
<p>的时候,我们只需要输入<code>main</code>+<code>Enter</code>键就会生成以上代码,因为它就是一个模板,始终的都不会改变.在<strong>Android Studio/IDEA</strong>中同样有该功能,只不过输入的内容有所改变.当输入<code>psvm</code>+<code>Enter</code>键就回生成以上代码.<br>
在<strong>Android Studio</strong>中还内置了很多模板<br>
<img src="http://kutear.qiniudn.com/2016/07/17/64bce7373b7824047216e18a88453a37.png" alt="" loading="lazy"><br>
<img src="http://kutear.qiniudn.com/2016/07/17/1f0840d16be148218d330df48e0d21cf.png" alt="" loading="lazy"><br>
比如<code>Log.X(...)</code>系列,<code>findViewById(...)</code>,以及<code>for(...)</code>等等.</p>
<ul>
<li>自定义模板</li>
</ul>
<p>下面我以<code>Log</code>来做说明.<br>
在我们的项目中一般不会直接使用<code>Log</code>来打印日志,而是需要给它一个可控的开关,在正式版中把日志信息关掉,只在开发版中打开日志.</p>
<pre><code class="language-java">public class JLog{
 public static final boolean isDebug = true;
 public static void d(String tag,Object obj){
   if(isDebug){
   Log.d(tag,obj==null?&quot;Null&quot;:obj.toString());
   }
 }
}
</code></pre>
<p>新建模板<br>
<img src="http://kutear.qiniudn.com/2016/07/17/f27d4b3aafccb59147bd94d1c2bc55b6.png" alt="" loading="lazy"><br>
在代码中键入<code>jlogd</code>+<code>Enter</code>就会自动生成</p>
<pre><code class="language-java">JLog.d(TAG,);
</code></pre>
<p>自需要你添加<code>obj</code>对象即可,使用模板会大量减少代码的输入,减少程序员的工作量.</p>
<p>对于上文中的<code>TAG</code>对象,我习惯与在创建类的时候就通过模板自动生成了<code>TAG</code>常量,如果你不是很习惯这种方式,可以给<code>TAG</code>指定为当前类的名字.<br>
<img src="http://kutear.qiniudn.com/2016/07/17/87aa67762a3694d278cee79f24ccba5a.png" alt="" loading="lazy"><br>
<img src="http://kutear.qiniudn.com/2016/07/17/5c0d5deb0059d2e253596d7366a358e5.png" alt="" loading="lazy"></p>
<p>具体步骤如下<br>
<video id="video" controls="" preload="none" poster="https://o4dj02fnq.qnssl.com/2016/07/17/android_studio.png"><br>
<source id="ogv" src="https://o4dj02fnq.qnssl.com/2016/07/17/android_stdio_template_6.ogv" type="video/ogg"><br>
</video><br>
具体的变量名称可以参考<a href="https://www.jetbrains.com/help/idea/2016.2/live-template-variables.html">Live Template Variables</a></p>
<h2 id="调试与分析">调试与分析</h2>
<h3 id="代码调试">代码调试</h3>
<h4 id="启动调试的两种方式">启动调试的两种方式</h4>
<ul>
<li>Debug模式启动</li>
<li>app启动之后attach</li>
</ul>
<h4 id="日志过滤">日志过滤</h4>
<ul>
<li>等级过滤</li>
<li>tag名字过滤  [系统日志(如Activity的启动会有ActivityManager)]</li>
</ul>
<h4 id="调试">调试</h4>
<p>在项目开发过程中,服务器返回的数据可能只是一个模拟的数据,它覆盖的面有限,比如一款产品包含预售,在售,缺货等等状态,但是这是服务端开发人员并没有完成整个开发,而是仅提供一个模拟的数据,而且仅是在售状态.客户端会根据状态设置不同的展示,比如在非在售是按钮置灰等.</p>
<p>这时我们就可以在调试的时候改变某些字段的值来达到覆盖各个情形.</p>
<figure data-type="image" tabindex="1"><img src="http://kutear.qiniudn.com/2016/07/20/987f9d01a48f84f3093c28572ccf51fb.png" alt="" loading="lazy"></figure>
<h4 id="断点类型">断点类型</h4>
<ul>
<li>普通断点</li>
<li>条件断点</li>
<li>日志断点</li>
<li>方法断点</li>
<li>异常断点</li>
</ul>
<figure data-type="image" tabindex="2"><img src="http://kutear.qiniudn.com/2016/07/20/dd50ee9d8133ec54302dbdc21205d809.png" alt="" loading="lazy"></figure>
<h2 id="其他附带工具的使用">其他附带工具的使用</h2>
<h3 id="dump-java-heap">Dump Java Heap</h3>
<figure data-type="image" tabindex="3"><img src="http://kutear.qiniudn.com/2016/07/19/a2ff091c91d619839866d48812549199.png" alt="Lint" loading="lazy"></figure>
<h3 id="mat">MAT</h3>
<figure data-type="image" tabindex="4"><img src="http://kutear.qiniudn.com/2016/07/19/4966de1618ce84600d20a1dfa5bc587d.png" alt="Lint" loading="lazy"></figure>
<blockquote>
<p>Shallow Size是对象本身占据的内存的大小，不包含其引用的对象。对于常规对象（非数组）的Shallow Size由其成员变量的数量和类型来定，而数组的ShallowSize由数组类型和数组长度来决定，它为数组元素大小的总和。<br>
Retained Size=当前对象大小+当前对象可直接或间接引用到的对象的大小总和。(间接引用的含义：A-&gt;B-&gt;C,C就是间接引用) ，并且排除被GC Roots直接或者间接引用的对象</p>
</blockquote>
<h3 id="allocation-tracking">Allocation Tracking</h3>
<figure data-type="image" tabindex="5"><img src="http://kutear.qiniudn.com/2016/07/19/17793777a2489927eaa2b3e77172c578.png" alt="Lint" loading="lazy"></figure>
<h3 id="lint">Lint</h3>
<p>代码中标黄的部分<br>
启动: <code>Analyze&gt;Inspect Code</code><br>
<img src="http://kutear.qiniudn.com/2016/07/19/c1488b6b7e12bd96f37021e33d1ae635.png" alt="Lint" loading="lazy"></p>
<h2 id="插件推荐">插件推荐</h2>
<h3 id="adb-idea">ADB idea</h3>
<blockquote>
<p>Adds the following ADB commands to Android Studio and Intellij:<br>
- ADB Uninstall App<br>
- ADB Kill App<br>
- ADB Start App<br>
- ADB Restart App<br>
- ADB Clear App Data<br>
- ADB Clear App Data and Restart</p>
</blockquote>
<blockquote>
<p>提供app卸载,app数据清理,app重启等功能,使得我们不再需要在手机上进入app详情页面进行数据清理等工作.</p>
</blockquote>
<h3 id="android-parcelable-code-genertor">Android Parcelable code genertor</h3>
<blockquote>
<p>Plugin which generates Android Parcelable boilerplate code for you.<br>
自动生成序列化相关函数</p>
</blockquote>
<h2 id="参考链接">参考链接</h2>
<ul>
<li><a href="http://cashow.github.io/android-detect-out-of-memory-with-eclipse-memory-analyzer.html">Android - 利用Eclipse Memory Analyzer(MAT)检测内存泄露问题</a></li>
<li><a href="http://www.jianshu.com/p/216b03c22bb8">使用新版Android Studio检测内存泄露和性能</a></li>
<li><a href="http://blog.csdn.net/kingzone_2008/article/details/9083327">Java堆：Shallow Size和Retained Size</a></li>
<li><a href="http://weishu.me/2015/12/21/android-studio-debug-tips-you-may-not-know/">Android Studio你不知道的调试技巧</a></li>
</ul>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://www.kutear.com/tag/UFhnp1WSL/" class="tag">
                    工具使用
                  </a>
                
                  <a href="https://www.kutear.com/tag/JMHt1LA5wo/" class="tag">
                    Android Studio
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://www.kutear.com/post/2016-07-07-design_pattern/">
                  <h3 class="post-title">
                    设计模式概述
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
